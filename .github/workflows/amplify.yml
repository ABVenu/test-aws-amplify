name: Deploy Static App to Amplify

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Trigger Amplify deployment
        env:
          AMPLIFY_WEBHOOK: ${{ secrets.AMPLIFY_WEBHOOK }}
        run: |
          echo "Triggering Amplify deployment..."
          curl -X POST -d {} "https://webhooks.amplify.eu-north-1.amazonaws.com/prod/webhooks?id=1fe57630-01cf-40ed-8368-15307e82257e&token=eu07UrklAiGOYQ78Y4jqsWuR63EumynP2eoZC9OzqkA&operation=startbuild" -H "Content-Type:application/json"
